(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

window.addEventListener('load', function () {
  // コンソールの作成
  var view = document.getElementById('view');
  var viewCtx;
  var width, height;
  var bufferWidth = 320,
      bufferHeight = 240;
  var runBtn = document.getElementById('run'),
      pauseBtn = document.getElementById('pause'),
      stopBtn = document.getElementById('stop');
  //      resetBtn = document.getElementById('reset');
  var main;

  runBtn.disabled = "disabled";
  pauseBtn.disabled = "disabled";
  stopBtn.disabled = "disabled";
  //  resetBtn.disabled = "disabled";

  var STATUS = {
    stop: 0,
    run: 1,
    pause: 2,
    reset: 3
  };

  var status = STATUS.stop;

  // con.width = con.offsetWidth;
  // con.height = (con.offsetWidth * 3 / 4) | 0 ;
  function resize() {
    var cont = document.getElementById('content');
    if (cont.offsetWidth > 700) {
      view.width = 640;
      view.height = 480;
    } else {
      view.width = 320;
      view.height = 240;
    }
    width = view.offsetWidth;
    height = view.offsetHeight;
    viewCtx = view.getContext("2d");
    viewCtx.imageSmoothingEnabled = false;
    viewCtx.fillStyle = "rgb(0, 0, 0)";
    viewCtx.fillRect(0, 0, width, height);
  }
  resize();
  window.addEventListener('resize', resize);

  // バッファーのセットアップ
  var bufferCanvas = document.getElementById('buffer');
  var bufferCtx = bufferCanvas.getContext("2d");
  var buffer = bufferCtx.createImageData(bufferWidth, bufferHeight);
  var bufferData = buffer.data;

  // レンダリング
  function render() {
    requestAnimationFrame(render);
    if (status == STATUS.run) {
      bufferCtx.putImageData(buffer, 0, 0);
      viewCtx.fillStyle = "rgb(0, 0, 0)";
      viewCtx.fillRect(0, 0, width, height);
      viewCtx.drawImage(bufferCanvas, 0, 0, width, height);
      main && main();
    }
  }

  function updateStatus(s) {
    status = s;
    switch (s) {
      case STATUS.stop:
        runBtn.disabled = "";
        pauseBtn.disabled = "disabled";
        stopBtn.disabled = "disabled";
        break;
      case STATUS.run:
        runBtn.disabled = "disabled";
        pauseBtn.disabled = "";
        stopBtn.disabled = "";
        break;
      case STATUS.pause:
        runBtn.disabled = "disabled";
        pauseBtn.disabled = "";
        stopBtn.disabled = "";
        break;
    }
  }

  function pset(x, y, color) {
    var offset = (y * bufferWidth + x) * 4;
    bufferData[offset] = color.r;
    bufferData[offset + 1] = color.g;
    bufferData[offset + 2] = color.b;
    bufferData[offset + 3] = color.a;
  }

  function preset(x, y) {
    var offset = (y * bufferWidth + x) * 4;
    bufferData[offset] = 0;
    bufferData[offset + 1] = 0;
    bufferData[offset + 2] = 0;
    bufferData[offset + 3] = 0;
  }

  function cls() {
    for (var i = 0, e = bufferWidth * bufferHeight * 4; i < e; ++i) {
      bufferData[i] = 0;
    }
  }

  function run() {
    var gen = function* () {
      cls();
      var i = 0;
      var r = void 0,
          g = void 0,
          b = void 0;
      for (var y = 0; y < 240; ++y) {
        for (var x = 0; x < 320; ++x) {
          i += 1;
          r = i >> 8 & 0xff, g = i >> 4 & 0xff, b = i & 0xff;
          pset(x, y, { r: r, g: g, b: b, a: 255 });
        }
        yield;
      }
      updateStatus(STATUS.stop);
    }();
    main = gen.next.bind(gen);
  }

  runBtn.addEventListener('click', function () {
    updateStatus(STATUS.run);
    run();
  });

  pauseBtn.addEventListener('click', function () {
    if (status == STATUS.pause) {
      updateStatus(STATUS.run);
    } else {
      updateStatus(STATUS.pause);
    }
  });

  stopBtn.addEventListener('click', function () {
    updateStatus(STATUS.stop);
  });

  // resetBtn.addEventListener('click',()=>{
  //   updateStatus(STATUS.reset);
  // });

  updateStatus(STATUS.stop);
  render();
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxzY3JpcHRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBR0EsT0FBTyxnQkFBUCxDQUF3QixNQUF4QixFQUErQixZQUFJOztBQUVqQyxNQUFJLE9BQU8sU0FBUyxjQUFULENBQXdCLE1BQXhCLENBQVAsQ0FGNkI7QUFHakMsTUFBSSxPQUFKLENBSGlDO0FBSWpDLE1BQUksS0FBSixFQUFVLE1BQVYsQ0FKaUM7QUFLakMsTUFBTSxjQUFjLEdBQWQ7TUFBa0IsZUFBZSxHQUFmLENBTFM7QUFNakMsTUFBSSxTQUFTLFNBQVMsY0FBVCxDQUF3QixLQUF4QixDQUFUO01BQ0EsV0FBVyxTQUFTLGNBQVQsQ0FBd0IsT0FBeEIsQ0FBWDtNQUNBLFVBQVUsU0FBUyxjQUFULENBQXdCLE1BQXhCLENBQVY7O0FBUjZCLE1BVTdCLElBQUosQ0FWaUM7O0FBWWpDLFNBQU8sUUFBUCxHQUFrQixVQUFsQixDQVppQztBQWFqQyxXQUFTLFFBQVQsR0FBb0IsVUFBcEIsQ0FiaUM7QUFjakMsVUFBUSxRQUFSLEdBQW1CLFVBQW5COzs7QUFkaUMsTUFpQjNCLFNBQVM7QUFDYixVQUFLLENBQUw7QUFDQSxTQUFJLENBQUo7QUFDQSxXQUFNLENBQU47QUFDQSxXQUFNLENBQU47R0FKSSxDQWpCMkI7O0FBd0JqQyxNQUFJLFNBQVMsT0FBTyxJQUFQOzs7O0FBeEJvQixXQTRCeEIsTUFBVCxHQUFpQjtBQUNmLFFBQUksT0FBTyxTQUFTLGNBQVQsQ0FBd0IsU0FBeEIsQ0FBUCxDQURXO0FBRWYsUUFBRyxLQUFLLFdBQUwsR0FBbUIsR0FBbkIsRUFBdUI7QUFDeEIsV0FBSyxLQUFMLEdBQWEsR0FBYixDQUR3QjtBQUV4QixXQUFLLE1BQUwsR0FBYyxHQUFkLENBRndCO0tBQTFCLE1BR087QUFDTCxXQUFLLEtBQUwsR0FBYSxHQUFiLENBREs7QUFFTCxXQUFLLE1BQUwsR0FB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RUFBZ0MsWUFBSTtBQUNsQyxpQkFBYSxPQUFPLEdBQVAsQ0FBYixDQURrQztBQUVsQyxVQUZrQztHQUFKLENBQWhDLENBaklpQzs7QUFzSWpDLFdBQVMsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBa0MsWUFBSTtBQUNwQyxRQUFHLFVBQVUsT0FBTyxLQUFQLEVBQWE7QUFDeEIsbUJBQWEsT0FBTyxHQUFQLENBQWIsQ0FEd0I7S0FBMUIsTUFFTztBQUNMLG1CQUFhLE9BQU8sS0FBUCxDQUFiLENBREs7S0FGUDtHQURnQyxDQUFsQyxDQXRJaUM7O0FBOElqQyxVQUFRLGdCQUFSLENBQXlCLE9BQXpCLEVBQWlDLFlBQUk7QUFDbkMsaUJBQWEsT0FBTyxJQUFQLENBQWIsQ0FEbUM7R0FBSixDQUFqQzs7Ozs7O0FBOUlpQyxjQXNKakMsQ0FBYSxPQUFPLElBQVAsQ0FBYixDQXRKaUM7QUF1SmpDLFdBdkppQztDQUFKLENBQS9CIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e1xyXG4gIC8vIOOCs+ODs+OCveODvOODq+OBruS9nOaIkFxyXG4gIHZhciB2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXcnKTtcclxuICB2YXIgdmlld0N0eDtcclxuICB2YXIgd2lkdGgsaGVpZ2h0O1xyXG4gIGNvbnN0IGJ1ZmZlcldpZHRoID0gMzIwLGJ1ZmZlckhlaWdodCA9IDI0MDtcclxuICB2YXIgcnVuQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1bicpLFxyXG4gICAgICBwYXVzZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXVzZScpLFxyXG4gICAgICBzdG9wQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3AnKTtcclxuLy8gICAgICByZXNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldCcpO1xyXG4gIHZhciBtYWluO1xyXG4gICAgICBcclxuICBydW5CdG4uZGlzYWJsZWQgPSBcImRpc2FibGVkXCI7XHJcbiAgcGF1c2VCdG4uZGlzYWJsZWQgPSBcImRpc2FibGVkXCI7XHJcbiAgc3RvcEJ0bi5kaXNhYmxlZCA9IFwiZGlzYWJsZWRcIjtcclxuLy8gIHJlc2V0QnRuLmRpc2FibGVkID0gXCJkaXNhYmxlZFwiO1xyXG5cclxuICBjb25zdCBTVEFUVVMgPSB7XHJcbiAgICBzdG9wOjAsXHJcbiAgICBydW46MSxcclxuICAgIHBhdXNlOjIsXHJcbiAgICByZXNldDozXHJcbiAgfTtcclxuICBcclxuICB2YXIgc3RhdHVzID0gU1RBVFVTLnN0b3A7XHJcbiAgICAgIFxyXG4gIC8vIGNvbi53aWR0aCA9IGNvbi5vZmZzZXRXaWR0aDtcclxuICAvLyBjb24uaGVpZ2h0ID0gKGNvbi5vZmZzZXRXaWR0aCAqIDMgLyA0KSB8IDAgO1xyXG4gIGZ1bmN0aW9uIHJlc2l6ZSgpe1xyXG4gICAgdmFyIGNvbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xyXG4gICAgaWYoY29udC5vZmZzZXRXaWR0aCA+IDcwMCl7XHJcbiAgICAgIHZpZXcud2lkdGggPSA2NDA7XHJcbiAgICAgIHZpZXcuaGVpZ2h0ID0gNDgwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmlldy53aWR0aCA9IDMyMDtcclxuICAgICAgdmlldy5oZWlnaHQgPSAyNDA7IFxyXG4gICAgfVxyXG4gICAgd2lkdGggPSB2aWV3Lm9mZnNldFdpZHRoO1xyXG4gICAgaGVpZ2h0ID0gdmlldy5vZmZzZXRIZWlnaHQ7XHJcbiAgICB2aWV3Q3R4ID0gdmlldy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB2aWV3Q3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgdmlld0N0eC5maWxsU3R5bGUgPSBcInJnYigwLCAwLCAwKVwiO1xyXG4gICAgdmlld0N0eC5maWxsUmVjdCgwLDAsd2lkdGgsaGVpZ2h0KTtcclxuICB9XHJcbiAgcmVzaXplKCk7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScscmVzaXplKTtcclxuICBcclxuICAvLyDjg5Djg4Pjg5XjgqHjg7zjga7jgrvjg4Pjg4jjgqLjg4Pjg5dcclxuICB2YXIgYnVmZmVyQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1ZmZlcicpO1xyXG4gIHZhciBidWZmZXJDdHggPSBidWZmZXJDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gIHZhciBidWZmZXIgPSBidWZmZXJDdHguY3JlYXRlSW1hZ2VEYXRhKGJ1ZmZlcldpZHRoLGJ1ZmZlckhlaWdodCk7XHJcbiAgdmFyIGJ1ZmZlckRhdGEgPSBidWZmZXIuZGF0YTtcclxuICBcclxuICAvLyDjg6zjg7Pjg4Djg6rjg7PjgrBcclxuICBmdW5jdGlvbiByZW5kZXIoKXtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgaWYoc3RhdHVzID09IFNUQVRVUy5ydW4pe1xyXG4gICAgICBidWZmZXJDdHgucHV0SW1hZ2VEYXRhKGJ1ZmZlciwwLDApO1xyXG4gICAgICB2aWV3Q3R4LmZpbGxTdHlsZSA9IFwicmdiKDAsIDAsIDApXCI7XHJcbiAgICAgIHZpZXdDdHguZmlsbFJlY3QoMCwwLHdpZHRoLGhlaWdodCk7XHJcbiAgICAgIHZpZXdDdHguZHJhd0ltYWdlKGJ1ZmZlckNhbnZhcywwLDAsd2lkdGgsaGVpZ2h0KTtcclxuICAgICAgbWFpbiAmJiBtYWluKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhzKXtcclxuICAgIHN0YXR1cyA9IHM7XHJcbiAgICBzd2l0Y2gocyl7XHJcbiAgICAgIGNhc2UgU1RBVFVTLnN0b3A6XHJcbiAgICAgICAgcnVuQnRuLmRpc2FibGVkID0gXCJcIjtcclxuICAgICAgICBwYXVzZUJ0bi5kaXNhYmxlZCA9IFwiZGlzYWJsZWRcIjtcclxuICAgICAgICBzdG9wQnRuLmRpc2FibGVkID0gXCJkaXNhYmxlZFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFNUQVRVUy5ydW46XHJcbiAgICAgICAgcnVuQnRuLmRpc2FibGVkID0gXCJkaXNhYmxlZFwiO1xyXG4gICAgICAgIHBhdXNlQnRuLmRpc2FibGVkID0gXCJcIjtcclxuICAgICAgICBzdG9wQnRuLmRpc2FibGVkID0gXCJcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBTVEFUVVMucGF1c2U6XHJcbiAgICAgICAgcnVuQnRuLmRpc2FibGVkID0gXCJkaXNhYmxlZFwiO1xyXG4gICAgICAgIHBhdXNlQnRuLmRpc2FibGVkID0gXCJcIjtcclxuICAgICAgICBzdG9wQnRuLmRpc2FibGVkID0gXCJcIjtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBzZXQoeCx5LGNvbG9yKXtcclxuICAgIHZhciBvZmZzZXQgPSAoeSAqIGJ1ZmZlcldpZHRoICsgeCkgKiA0O1xyXG4gICAgYnVmZmVyRGF0YVtvZmZzZXRdID0gY29sb3IucjtcclxuICAgIGJ1ZmZlckRhdGFbb2Zmc2V0ICsgMV0gID0gY29sb3IuZztcclxuICAgIGJ1ZmZlckRhdGFbb2Zmc2V0ICsgMl0gPSBjb2xvci5iO1xyXG4gICAgYnVmZmVyRGF0YVtvZmZzZXQgKyAzXSA9IGNvbG9yLmE7IFxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcHJlc2V0KHgseSl7XHJcbiAgICB2YXIgb2Zmc2V0ID0gKHkgKiBidWZmZXJXaWR0aCArIHgpICogNDtcclxuICAgIGJ1ZmZlckRhdGFbb2Zmc2V0XSA9IDA7XHJcbiAgICBidWZmZXJEYXRhW29mZnNldCArIDFdICA9IDA7XHJcbiAgICBidWZmZXJEYXRhW29mZnNldCArIDJdID0gMDtcclxuICAgIGJ1ZmZlckRhdGFbb2Zmc2V0ICsgM10gPSAwOyBcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNscygpe1xyXG4gICAgZm9yKHZhciBpID0gMCxlID0gYnVmZmVyV2lkdGggKiBidWZmZXJIZWlnaHQgKiA0O2kgPCBlOysraSlcclxuICAgIHtcclxuICAgICAgYnVmZmVyRGF0YVtpXSA9IDA7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIHJ1bigpe1xyXG4gICAgdmFyIGdlbiA9IChmdW5jdGlvbiAqICgpe1xyXG4gICAgICBjbHMoKTtcclxuICAgICAgdmFyICBpID0gMDtcclxuICAgICAgbGV0IHIsZyxiO1xyXG4gICAgICBmb3IobGV0IHkgPSAwOyB5IDwgMjQwOysreSl7XHJcbiAgICAgICAgZm9yKGxldCB4ID0gMDsgeCA8IDMyMDsrK3gpe1xyXG4gICAgICAgICAgaSs9MTtcclxuICAgICAgICAgIHIgPSAoaSA+PiA4KSAmIDB4ZmYsIFxyXG4gICAgICAgICAgZyA9IChpID4+IDQgKSAmIDB4ZmYsXHJcbiAgICAgICAgICBiID0gaSAmIDB4ZmY7XHJcbiAgICAgICAgICBwc2V0KHgseSx7cjpyLGc6ZyxiOmIsYToyNTV9KVxyXG4gICAgICAgIH1cclxuICAgICAgICB5aWVsZDtcclxuICAgICAgfVxyXG4gICAgICB1cGRhdGVTdGF0dXMoU1RBVFVTLnN0b3ApO1xyXG4gICAgfSkoKTsgIFxyXG4gICAgbWFpbiA9IGdlbi5uZXh0LmJpbmQoZ2VuKTtcclxuICB9XHJcblxyXG4gIHJ1bkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICAgIHVwZGF0ZVN0YXR1cyhTVEFUVVMucnVuKTtcclxuICAgIHJ1bigpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHBhdXNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgaWYoc3RhdHVzID09IFNUQVRVUy5wYXVzZSl7XHJcbiAgICAgIHVwZGF0ZVN0YXR1cyhTVEFUVVMucnVuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVwZGF0ZVN0YXR1cyhTVEFUVVMucGF1c2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBzdG9wQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xyXG4gICAgdXBkYXRlU3RhdHVzKFNUQVRVUy5zdG9wKTtcclxuICB9KTtcclxuXHJcbiAgLy8gcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XHJcbiAgLy8gICB1cGRhdGVTdGF0dXMoU1RBVFVTLnJlc2V0KTtcclxuICAvLyB9KTtcclxuXHJcbiAgdXBkYXRlU3RhdHVzKFNUQVRVUy5zdG9wKTtcclxuICByZW5kZXIoKTtcclxufSk7XHJcbiJdfQ==
